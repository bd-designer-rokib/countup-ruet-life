"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5649],{93704:function(e,t,i){i.d(t,{n:function(){return p}});var n=i(54048),a=i(97788),o=i(57771),r=i(50147),l=i(59474),s=i(85536),d=i(65736),c=i(58016),p={Container:n.W,Heading:a.X,Img:o.E,Link:r.r,Section:l.$,Text:s.x,Row:d.X,Column:c.s}},5649:function(e,t,i){i.d(t,{P:function(){return G}});var n=i(17674),a=i(75853),o=i(78964),r=i(59714),l=i(16925),s=i(51603),d=i(55372),c=i(24215),p=i(93366),m=i(72150),g=i(47584),u=i(64181),x=i(62811),h=i(8684),f=i(32735),v=i(67500),w=i(34137),b=i(61620),y=i(34231),j=i(2879),C=i(87517),k=i(14796),S=i(91168),N=i(47298),z=i(93704),E=i(50029),L=i(87794),M=i.n(L),P=i(34313),W=i(76598),I=i(13158),R="".concat(I.env.REACT_APP_APPS_API_URL||"https://www.commoninja.com","/api/apps/dgif"),_=i(74512),O=function(e){var t=e.onReloadGif,i=(0,y.b)().widgetId,n=(0,f.useState)(!1),a=n[0],o=n[1],r=W.Z.create({baseURL:R});function s(){return(s=(0,E.Z)(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,r.delete("/delete?widgetId=".concat(i));case 4:t(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:o(!1);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return(0,_.jsxs)(l.z,{className:"recapture",variant:"secondary",onClick:function(){return s.apply(this,arguments)},disabled:a,children:[(0,_.jsx)(P.F,{size:16}),"Re-capture"]})},T=i(45353),H=T.default.div.withConfig({displayName:"emailWidgetSettingsstyles__StyledDiv",componentId:"sc-1ma1ai6-0"})(["background-color:var(",");.email-widget-wrapper{max-width:1200px;margin:0 auto;padding:50px 0 20px;display:flex;flex-direction:column;gap:20px;@media screen and (max-width:1330px){padding:50px 20px 20px;}.no-data{display:flex;flex-direction:column;text-align:center;justify-content:center;width:100%;padding:30px !important;.icon{margin:0 auto 30px;}.title{font-size:32px;font-weight:700;}.description{font-size:18px;font-weight:400;max-width:500px;margin:15px auto 20px;}button{width:fit-content;margin:0 auto;}}.top{font-size:24px;font-weight:600;color:#313541;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px;h2{font-size:16px;font-weight:400;margin-top:8px;}.tutorial{cursor:pointer;display:flex;align-items:center;gap:10px;text-decoration:none;color:inherit;color:var(",");font-size:14px;font-weight:400;transition:0.2s;svg{max-width:22px;min-width:22px;}&:hover{opacity:0.8;}}}main{display:grid;grid-template-columns:minmax(350px,1fr) 2fr;align-items:self-start;gap:20px;@media screen and (max-width:850px){grid-template-columns:1fr;}.editor{display:flex;flex-direction:column;gap:20px;position:sticky;top:20px;@media screen and (max-width:850px){position:static;}.embed{.title{margin-bottom:5px;}.actions{display:flex;flex-direction:column;align-items:center;gap:10px;flex-wrap:wrap;margin-top:20px;.nindo-form-row{width:100%;margin:0;}}button{width:100%;padding:8px 20px;text-align:left;&.recapture{cursor:pointer;margin-left:auto;font-family:inherit;padding:8px 15px;border-radius:5px;font-size:14px;font-weight:500;border:none;background-color:#e4eaff;color:#5c5ef9;display:flex;align-items:center;justify-content:center;gap:5px;transition:0.2s;&:disabled{pointer-events:none;opacity:0.6;}&:hover{opacity:0.8;}}}}.settings{.title{margin-bottom:15px;}.body{.colors-container{display:flex;gap:15px;flex-wrap:wrap;margin-bottom:25px;.color-item{display:flex;flex-direction:column;gap:10px;flex:1;max-width:107px;color:#747b95;text-align:center;font-size:12px;.selected-color{height:56px;width:107px;}}}}}}.email-container{.note{display:flex;gap:15px;background-color:#fff5dc;border-radius:10px;margin-bottom:20px;padding:10px;.note-text{font-weight:200;line-height:18px;.bold{font-weight:600;}}}.stage{padding:0;position:relative;&::after{content:'';position:absolute;top:0;right:0;width:100%;height:100%;background-color:transparent;z-index:10;}.email-top{display:flex;justify-content:space-between;align-items:center;gap:10px;background-color:#f2f6fc;padding:12px 15px;border-radius:10px 10px 0 0;color:#041e49;font-size:14px;}.recipients{padding:10px 0;color:#747775;border-bottom:1px solid #eceff1;margin:0 15px;}.body{padding:10px 15px;color:#747775;#email-widget{margin:30px 0;}.demo-content{margin-top:20px;display:flex;flex-direction:column;gap:10px;.line{border-radius:20em;background-color:#e6e6e6;height:18px;}&:first-of-type{.line{height:28px !important;width:50%;}}&:last-of-type{.line{&:nth-child(1){width:90%;}&:nth-child(2){width:70%;}&:nth-child(3){width:85%;}}}}}.email-footer{margin:40px 12px 12px;display:flex;align-items:center;gap:10px;justify-content:space-between;flex-wrap:wrap;opacity:0.4;.demo-actions{display:flex;align-items:center;gap:12px;flex-wrap:wrap;.button-wrapper{display:flex;button{cursor:default;border-radius:18px 0 0 18px;border-right:1px solid #062e6f;background:#0b57d0;padding:8px 16px;font-size:14px;font-weight:600;&:last-of-type{border-radius:0 18px 18px 0;padding:8px 8px;}}}}}}}}.card{border:1px solid #dedede;border-radius:10px;padding:20px;transition:0.2s;.top{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:15px;}.title{font-size:18px;font-weight:400;color:#313541;}.description{margin-top:10px;font-size:14px;font-weight:300;color:#4d5265;line-height:1.3;}}}"],s.Dm.white,s.Dm.primary500),D=T.default.div.withConfig({displayName:"emailWidgetSettingsstyles__StyledPreview",componentId:"sc-1ma1ai6-1"})(["max-width:1200px;margin:0 auto;padding:50px 0 20px;display:flex;flex-direction:column;gap:20px;background-color:var(",");@media screen and (max-width:1330px){padding:50px 20px 20px;}.preview-email-container{--gap-L:50px;--gap-M:30px;--title-font-size:30px;--card-title-font-size:20px;--description-font-size:18px;--button-font-size:16px;border:1px solid #dedede;border-color:var(",");border-radius:10px;padding:50px;text-align:center;color:var(",");.title{font-size:var(--title-font-size);font-weight:600;line-height:45px;}.sub-title{margin-top:5px;font-size:var(--description-font-size);font-weight:400;line-height:23.54px;}.generate-button{margin:var(--gap-M) auto var(--gap-L);padding:8px 25px;font-size:var(--button-font-size);font-weight:500;line-height:24px;}.descriptions-container{display:flex;justify-content:space-between;gap:var(--gap-L);margin-top:var(--gap-L);.card{flex:1;text-align:left;h3{margin-bottom:5px;font-size:var(--card-title-font-size);font-weight:600;line-height:26.16px;}p{font-size:var(--description-font-size);font-weight:400;line-height:23.54px;}}}@media screen and (max-width:760px){--gap-L:30px;--gap-M:15px;--title-font-size:24px;--description-font-size:16px;.title{line-height:30px;margin-bottom:5px;}.descriptions-container{flex-direction:column;}.generate-button{padding:5px 15px;}}}"],s.Dm.white,s.Dm.background500,s.Dm.text100),G=function(e){var t,i=e.widget,E=e.settings,L=e.removeColorSchemeSection,M=void 0!==L&&L,P=(0,b.q)(),W=P.emailSettings,I=P.updateEmailGeneralSetting,R=P.getRedirectLink,T=(0,y.b)().widgetId,G=void 0===T?"":T,Z=(0,j.V)().slug,A=(0,f.useContext)(S.I),F=A.setContext,q=A.editor,V=(0,C.O)(),U=(0,n.Z)(V,1)[0],K=(0,k.W)(),B=(0,n.Z)(K,1)[0],Y=(0,f.useState)(!1),J=Y[0],X=Y[1],Q=(0,f.useState)(!1),$=Q[0],ee=Q[1],te=(0,f.useState)(!1),ie=te[0],ne=te[1],ae=(0,f.useRef)(null);function oe(){var e;return(0,_.jsxs)("div",{className:"card embed",children:[(0,_.jsx)("p",{className:"title",children:"Copy Widget to Email"}),(0,_.jsx)("p",{className:"description",children:"Copy the HTML Code to embed the widget in email marketing platforms, or paste it directly into your email\u2019s body."}),(0,_.jsxs)("div",{className:"actions",children:[(0,w.J)({label:"Platform",flow:"column",inputElm:(0,_.jsx)(a.P,{value:(null===(e=W.general)||void 0===e?void 0:e.emailProvider)||"mailchimp",placeholder:"MailChimp",options:[{label:"HTML",value:"html"},{label:"Gmail",value:"gmail"},{label:"MailChimp",value:"mailchimp"},{label:"Kajabi",value:"kajabi"},{label:"MailerLite",value:"mailerlite"},{label:"ConvertKit",value:"convertkit"},{label:"ActiveCampaign",value:"active-campaign"},{label:"Flodesk",value:"flodesk"},{label:"Drip",value:"drip"}],onChange:function(e){I("emailProvider",e)}})}),(0,_.jsxs)(o.k,{style:{width:"100%"},text:"",showIcon:!1,customCopyFunction:function(){var e;return function(e){var t=document.querySelector("#email-widget");if(t)if("html"!==e){var i=document.querySelector("#dgif");if(i){var n=i.getAttribute("src");n&&i.setAttribute("src",n.replace("mode=editor&",""))}var a=document.createRange();a.selectNode(t);var o=window.getSelection();if(o){o.removeAllRanges(),o.addRange(a);try{document.execCommand("copy")}catch(c){console.error("Failed to copy content: ",c)}o.removeAllRanges()}}else{var r,l=t.innerHTML,s=document.createElement("div");s.innerHTML=l,null===(r=s.querySelector("#dgif-loader"))||void 0===r||r.remove();var d=s.innerHTML.replace(/mode=editor&/g,"").replace(/&amp;/g,"&");navigator.clipboard.writeText(d).then((function(){})).catch((function(e){console.error("Failed to copy content: ",e)}))}}("gmail"===(null===(e=W.general)||void 0===e?void 0:e.emailProvider)?"selection":"html")},isButton:!0,children:[(0,_.jsx)(x.F,{size:16}),"Copy Code"]}),ie&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(O,{onReloadGif:function(){X(!0),setTimeout((function(){X(!1)}),50)}}),(0,_.jsx)("p",{className:"description",children:"If you made changes to your widget, click 'Re-capture' to update the embed code."})]})]})]})}function re(){var e,t,i;return(0,_.jsxs)("div",{className:"card settings",children:[(0,_.jsx)("p",{className:"title",children:"Settings"}),(0,_.jsxs)("div",{className:"body",children:[(0,w.J)({label:"Redirect to",inputElm:(0,_.jsx)(a.P,{value:(null===W||void 0===W||null===(e=W.general)||void 0===e?void 0:e.redirectTo)||"widget-preview",options:[{label:"Hosted widget page",value:"widget-preview"},{label:"Page on your Website",value:"website"}],onChange:function(e){I("redirectTo",e)}})}),"website"===(null===W||void 0===W||null===(t=W.general)||void 0===t?void 0:t.redirectTo)&&(0,_.jsx)(_.Fragment,{children:(0,w.J)({label:"Website URL",flow:"column",inputElm:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.I,{type:"url",placeholder:"Enter URL",value:W.general.url,onChange:function(e){I("url",e.target.value)}}),(0,_.jsx)("small",{style:{fontSize:"12px"},children:"Enter the URL address of a page on your website where the widget was added."})]})})}),!M||"function"===typeof E&&(0,_.jsx)("p",{className:"title",children:"Design"}),!M&&(0,_.jsx)(N.K,{onChange:function(e){I("colorScheme",e)},value:(null===W||void 0===W||null===(i=W.general)||void 0===i?void 0:i.colorScheme)||U.colorScheme||v._z,style:{marginBottom:"40px"}}),"function"===typeof E?null===E||void 0===E?void 0:E():E]})]})}return(0,f.useEffect)((function(){var e=((null===B||void 0===B?void 0:B.language)||"default").toLowerCase();F({language:e})}),[B.language]),(0,f.useEffect)((function(){G&&document.querySelector("#dgif")&&!Z.includes("countdown")&&ne(!0)}),[]),(0,f.useEffect)((function(){G&&$&&(I("state","display-widget"),ee(!1))}),[G]),(0,_.jsx)(s.pk,{theme:"light",children:"display-widget"===(null===(t=W.general)||void 0===t?void 0:t.state)||U.emailSettings?(0,_.jsx)(H,{children:(0,_.jsxs)("div",{className:"email-widget-wrapper",children:[(0,_.jsxs)("div",{className:"top",children:[(0,_.jsxs)("div",{className:"info",children:[(0,_.jsx)("h1",{children:"Embed on Email"}),(0,_.jsx)("h2",{children:"Embed & Share Your Widget with Your Customers Directly on Emails"})]}),(0,_.jsxs)("a",{className:"tutorial",target:"_blank",href:"https://help.commoninja.com/hc/en-us/sections/19164979581469",children:[(0,_.jsxs)("svg",{width:"45",height:"42",viewBox:"0 0 45 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("path",{d:"M41.7857 11.5984V24.2308C41.7857 25.2915 41.5779 26.3418 41.174 27.3217C40.7702 28.3017 40.1783 29.1921 39.4321 29.9421C38.6859 30.6921 37.8 31.2871 36.8251 31.693C35.8501 32.0989 34.8052 32.3078 33.7499 32.3078H12.8569V33.9232C12.8607 35.2073 13.3699 36.4377 14.2733 37.3457C15.1766 38.2538 16.4008 38.7656 17.6783 38.7694H36.2089C36.4602 38.7727 36.7076 38.8334 36.9321 38.9471L42.6696 41.8225C42.8942 41.9362 43.1415 41.9969 43.3929 42.0002C43.6936 42 43.9884 41.9161 44.2447 41.7579C44.4763 41.6124 44.6672 41.41 44.7993 41.1697C44.9315 40.9295 45.0006 40.6593 45 40.3848V16.1538C44.9972 15.154 44.6868 14.1795 44.1114 13.3639C43.5359 12.5484 42.7236 11.9317 41.7857 11.5984Z",fill:"#5c5ef9"}),(0,_.jsx)("path",{d:"M38.5718 24.2307V4.84595C38.5718 3.56066 38.0638 2.32801 37.1596 1.41917C36.2554 0.510336 35.029 -0.000244141 33.7503 -0.000244141H4.82147C3.54274 -0.000244141 2.31638 0.510336 1.41218 1.41917C0.507975 2.32801 1.13232e-07 3.56066 1.13232e-07 4.84595V33.9231C-0.000113544 34.2275 0.0853388 34.5258 0.246511 34.7835C0.407683 35.0412 0.638015 35.2479 0.910966 35.3797C1.18392 35.5116 1.48838 35.5632 1.78927 35.5287C2.09016 35.4942 2.37523 35.375 2.61163 35.1848L9.76669 29.4307C10.051 29.2022 10.404 29.0775 10.768 29.0769H33.7503C35.029 29.0769 36.2554 28.5664 37.1596 27.6575C38.0638 26.7487 38.5718 25.516 38.5718 24.2307ZM20.7645 21.6138C20.6923 21.8143 20.5771 21.9963 20.4272 22.1471C20.2772 22.2978 20.096 22.4136 19.8966 22.4861C19.7042 22.5713 19.4962 22.6153 19.2859 22.6153C19.0756 22.6153 18.8676 22.5713 18.6752 22.4861C18.4757 22.4136 18.2946 22.2978 18.1446 22.1471C17.9946 21.9963 17.8795 21.8143 17.8073 21.6138C17.725 21.4196 17.6813 21.211 17.6787 20.9999C17.685 20.5723 17.8514 20.1628 18.1448 19.853C18.3011 19.7104 18.4805 19.5957 18.6752 19.5138C18.8669 19.4259 19.0752 19.3804 19.2859 19.3804C19.4966 19.3804 19.7049 19.4259 19.8966 19.5138C20.0913 19.5957 20.2707 19.7104 20.427 19.853C20.723 20.161 20.8899 20.5717 20.893 20.9999C20.8905 21.211 20.8468 21.4196 20.7645 21.6138ZM21.0714 15.9599C20.984 16.0126 20.9125 16.0883 20.8646 16.1788C20.8168 16.2693 20.7944 16.3712 20.7998 16.4736C20.7998 16.902 20.6305 17.3129 20.3291 17.6159C20.0277 17.9188 19.6189 18.089 19.1927 18.089C18.7664 18.089 18.3576 17.9188 18.0562 17.6159C17.7548 17.3129 17.5855 16.902 17.5855 16.4736C17.5746 15.7324 17.7825 15.0045 18.183 14.382C18.5834 13.7595 19.1585 13.2703 19.8355 12.9763C20.1735 12.8354 20.4573 12.5887 20.6449 12.273C20.8324 11.9572 20.9137 11.5891 20.8767 11.2232C20.8398 10.8573 20.6865 10.5131 20.4396 10.2417C20.1927 9.97031 19.8653 9.78609 19.5061 9.71638C19.1056 9.643 18.6922 9.71451 18.3392 9.91824C17.9862 10.122 17.7163 10.4448 17.5775 10.8294C17.4318 11.2294 17.1348 11.5555 16.7512 11.7365C16.3675 11.9175 15.9283 11.9389 15.529 11.7959C15.1298 11.653 14.8028 11.3574 14.6194 10.9733C14.436 10.5893 14.4109 10.148 14.5496 9.74546C14.8229 8.96887 15.2851 8.27328 15.894 7.72196C16.503 7.17064 17.2394 6.78107 18.0362 6.5887C18.8331 6.39632 19.6652 6.40723 20.4569 6.62044C21.2485 6.83364 21.9745 7.24239 22.5689 7.80949C23.1634 8.37659 23.6073 9.08406 23.8604 9.86755C24.1135 10.651 24.1677 11.4857 24.0181 12.2956C23.8685 13.1055 23.5198 13.865 23.0038 14.505C22.4877 15.1449 21.8207 15.6451 21.0634 15.9599H21.0714Z",fill:"#5c5ef9"})]}),"Get Help"]})]}),(0,_.jsxs)("main",{children:[(0,_.jsxs)("div",{className:"editor",children:[oe(),re()]}),(0,_.jsxs)("div",{className:"email-container",children:[(0,_.jsxs)("div",{className:"note",children:[(0,_.jsx)("img",{src:"https://website-assets.commoninja.com/assets/Group+6184.svg",width:22}),(0,_.jsxs)("p",{className:"note-text",children:[(0,_.jsx)("b",{className:"bold",children:"Please Note:"})," The Email Widget is a representation of your widget but is not fully functional like it is on your website. Its purpose is to engage recipients and drive traffic to your website."]})]}),(0,_.jsxs)("div",{className:"stage card",children:[(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"email-top",children:["New Message",(0,_.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"49",height:"10",viewBox:"0 0 49 10",fill:"none",children:[(0,_.jsx)("path",{d:"M0 9H8",stroke:"#444746",strokeWidth:"2"}),(0,_.jsx)("path",{d:"M40 1L48 9",stroke:"#444746",strokeWidth:"2"}),(0,_.jsx)("path",{d:"M40 9L48 1",stroke:"#444746",strokeWidth:"2"}),(0,_.jsx)("path",{d:"M20 9L28 1",stroke:"#444746",strokeWidth:"2"}),(0,_.jsx)("path",{d:"M23 1H28V6",stroke:"#444746",strokeWidth:"2"}),(0,_.jsx)("path",{d:"M25 9L20 9L20 4",stroke:"#444746",strokeWidth:"2"})]})]}),(0,_.jsx)("div",{className:"recipients",children:"Recipients"})]}),(0,_.jsxs)("div",{className:"body",children:["Subject",(0,_.jsx)("div",{className:"demo-content",children:(0,_.jsx)("div",{className:"line"})}),(0,_.jsx)("div",{id:"email-widget",ref:ae,children:!J&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(z.n.Img,{className:"email-open",src:R("email-open"),style:{opacity:"0",width:"1px",height:"1px"},width:1,height:1}),"function"===typeof i?null===i||void 0===i?void 0:i():i]})}),(0,_.jsxs)("div",{className:"demo-content",children:[(0,_.jsx)("div",{className:"line"}),(0,_.jsx)("div",{className:"line"}),(0,_.jsx)("div",{className:"line"})]})]}),(0,_.jsxs)("div",{className:"email-footer",children:[(0,_.jsxs)("div",{className:"demo-actions",children:[(0,_.jsxs)("div",{className:"button-wrapper",children:[(0,_.jsx)(l.z,{children:"Send"}),(0,_.jsx)(l.z,{children:(0,_.jsx)(d.q,{})})]}),(0,_.jsx)(h.G,{size:16}),(0,_.jsx)(m.s,{size:16}),(0,_.jsx)(g.r,{size:18}),(0,_.jsx)(c.s,{size:16}),(0,_.jsx)(u.K,{size:18})]}),(0,_.jsx)(p.l,{size:14})]})]})]})]})]})}):(0,_.jsx)(D,{children:(0,_.jsxs)("div",{className:"preview-email-container",children:[(0,_.jsx)("h2",{className:"title",children:"Embed Interactive Widget in Email"}),(0,_.jsx)("p",{className:"sub-title",children:"Easily Share Your Widget with Customers Through Email"}),G?(0,_.jsx)(l.z,{variant:"amit",className:"generate-button",onClick:function(){return I("state","display-widget")},children:"Generate your Email Widget"}):(0,_.jsx)(l.z,{variant:"primary",className:"generate-button",onClick:function(){var e,t;ee(!0),null===(e=document.querySelector("#save-changes-button"))||void 0===e||null===(t=e.click)||void 0===t||t.call(e)},children:q.saving?"Saving...":"Save and Generate your Email Widget"}),(0,_.jsx)("img",{width:"100%",src:"https://website-assets.commoninja.com/distribution/1733908599257_Group_6180_1.png"}),(0,_.jsxs)("div",{className:"descriptions-container",children:[(0,_.jsxs)("div",{className:"card",children:[(0,_.jsx)("h3",{children:"How does it work?"}),(0,_.jsx)("p",{children:"Generate your widget with a click, and a version optimized for email will be created. Select your email provider\u2014whether you're using Gmail, Yahoo, Mailchimp, Klaviyo, or any other provider\u2014then simply click 'Copy' to grab the code. Next, paste it directly into your email or newsletter. This streamlined process ensures you can easily incorporate interactive content to engage your audience effectively."})]}),(0,_.jsxs)("div",{className:"card",children:[(0,_.jsx)("h3",{children:"What are Email Widgets?"}),(0,_.jsx)("p",{children:"Email widgets are an interactive version of your widget, allowing you to embed it directly into emails you send to subscribers and customers."})]})]})]})})})}},71993:function(e,t,i){function n(e){switch(e){case"mailchimp":default:return"*|EMAIL|*";case"active-campaign":return"%EMAIL%";case"convertkit":return"{{ subscriber.email_address }}";case"flodesk":case"drip":return"{{ subscriber.email }}";case"kajabi":return"{{ email_address }}";case"mailerlite":return"{$email}"}}i.d(t,{Q:function(){return n}})},61620:function(e,t,i){i.d(t,{q:function(){return x}});var n=i(59499),a=i(17674),o=i(32735),r=i(71993),l=i(67500),s=i(91168),d=i(87517),c=i(86027),p=i(34231);function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u="https://events.commoninja.com";function x(e){var t,i,m,x,h,f,v=(0,o.useContext)(s.I).plugin.galleryId,w=(0,c.X)().slug,b=(0,p.b)().widgetId,y=void 0===b?"":b,j=(0,d.O)(),C=(0,a.Z)(j,2),k=C[0],S=C[1],N="recipientId=".concat((0,r.Q)((null===(t=k.emailSettings)||void 0===t||null===(i=t.general)||void 0===i?void 0:i.emailProvider)||"mailchimp")),z={general:g(g({redirectTo:"widget-preview",url:""},null===(m=k.emailSettings)||void 0===m?void 0:m.general),{},{colorScheme:(null===(x=k.emailSettings)||void 0===x||null===(h=x.general)||void 0===h?void 0:h.colorScheme)||k.colorScheme||g(g({},l._z),null===e||void 0===e?void 0:e.defaultColorScheme)}),widget:g(g({},null===e||void 0===e?void 0:e.defaultWidgetSettings),null===(f=k.emailSettings)||void 0===f?void 0:f.widget)};function E(e){var t,i,n="website"===(null===(t=z.general)||void 0===t?void 0:t.redirectTo)?z.general.url:"https://commoninja.site/".concat(w||v);e&&(null!==(i=n)&&void 0!==i&&i.includes("?")?n+="&cnSelected=".concat(e):n+="?cnSelected=".concat(e));return n}return{emailSettings:z,updateEmailWidgetSetting:function(t,i){S(g(g({},k),{},{emailSettings:g(g({},z),{},{widget:g(g({},z.widget||(null===e||void 0===e?void 0:e.defaultWidgetSettings)),{},(0,n.Z)({},t,i))})}))},updateEmailGeneralSetting:function(e,t){S(g(g({},k),{},{emailSettings:g(g({},z),{},{general:g(g({},z.general),{},(0,n.Z)({},e,t))})}))},getRedirectLink:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"email-link-click",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="".concat(u,"/track/").concat(y||"");return"email-open"===e?i+="/pixel.gif?".concat(N):"".concat(i,"?eventType=").concat(e,"&entityPath=").concat(t,"&").concat(N,"&redirect=").concat(encodeURIComponent(E(t)||""))},getColorScheme:function(){var e;return(0,l.Wx)((null===z||void 0===z||null===(e=z.general)||void 0===e?void 0:e.colorScheme)||k.colorScheme||l._z)}}}}}]);